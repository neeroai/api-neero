# =============================================================================
# AI SDK + WhatsApp Template - Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control
# =============================================================================

# -----------------------------------------------------------------------------
# OpenAI Configuration (Required)
# -----------------------------------------------------------------------------
# Get your API key from: https://platform.openai.com/api-keys
# Used by: lib/ai/openai.ts, app/api/chat/route.ts, app/api/example/route.ts
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# WhatsApp Business API Configuration (Required)
# -----------------------------------------------------------------------------
# Get these from Meta Developer Portal: https://developers.facebook.com/apps/
# App Dashboard > WhatsApp > API Setup

# Access Token (permanent token from your WhatsApp Business App)
# Used by: lib/whatsapp/messaging.ts, lib/whatsapp/media.ts
WHATSAPP_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Phone Number ID (not your phone number, the ID from WhatsApp API Setup)
# Used by: lib/whatsapp/messaging.ts
WHATSAPP_PHONE_ID=123456789012345

# Verify Token (create your own random string for webhook verification)
# Used by: app/api/whatsapp/webhook/route.ts (GET handler)
WHATSAPP_VERIFY_TOKEN=your-random-verify-token-here

# App Secret (from App Dashboard > Settings > Basic > App Secret)
# Used by: lib/whatsapp/webhook.ts, lib/security/crypto.ts for HMAC validation
WHATSAPP_APP_SECRET=abcdef1234567890abcdef1234567890

# -----------------------------------------------------------------------------
# Application Configuration (Required)
# -----------------------------------------------------------------------------
# Your application URL (for webhook configuration)
# Local dev: Use ngrok URL (https://xxxx.ngrok.io)
# Production: Use your Vercel domain (https://your-app.vercel.app)
# Used by: Webhook configuration in Meta Developer Portal
NEXT_PUBLIC_APP_URL=https://your-app.vercel.app

# -----------------------------------------------------------------------------
# Database Configuration (Optional)
# -----------------------------------------------------------------------------
# PostgreSQL connection string for Drizzle ORM
# Only needed if implementing conversation/user persistence
# Format: postgresql://user:password@host:port/database
# Used by: lib/db/* (example patterns, not implemented in template)
# DATABASE_URL=postgresql://user:password@localhost:5432/ai_sdk_wp

# -----------------------------------------------------------------------------
# Rate Limiting Configuration (Optional)
# -----------------------------------------------------------------------------
# Override default rate limit (default: 250 messages/second)
# WhatsApp Cloud API limit: 250 msg/sec for most tiers
# Used by: lib/whatsapp/rate-limit.ts
# RATE_LIMIT_CAPACITY=250
# RATE_LIMIT_REFILL_RATE=250

# -----------------------------------------------------------------------------
# Development Configuration (Optional)
# -----------------------------------------------------------------------------
# Enable debug logging for troubleshooting
# DEBUG=true

# -----------------------------------------------------------------------------
# Webhook Setup Instructions
# -----------------------------------------------------------------------------
# 1. Copy this file to .env.local
# 2. Fill in all required values above
# 3. For local development:
#    - Install ngrok: https://ngrok.com/download
#    - Run: ngrok http 3000
#    - Copy the https URL to NEXT_PUBLIC_APP_URL
#    - Configure webhook in Meta: {NEXT_PUBLIC_APP_URL}/api/whatsapp/webhook
# 4. For production (Vercel):
#    - Deploy to Vercel
#    - Add all environment variables in Vercel dashboard
#    - Configure webhook: https://your-app.vercel.app/api/whatsapp/webhook
# 5. Verify webhook:
#    - Meta will send GET request with hub.challenge
#    - Your WHATSAPP_VERIFY_TOKEN must match the token you set in Meta
# =============================================================================
